---
description: "Специфичные правила для работы с Valheim"
alwaysApply: true
---

# Valheim Specific Rules

## Пути к игре
- Используй утилиты из `utils/get-valheim-path.ts` для получения путей
- Проверяй существование исполняемого файла Valheim
- Обрабатывай случаи когда игра не установлена
- Поддерживай разные пути установки Steam

## Моды
- Моды хранятся в ZIP архивах
- Используй BepInEx как основную платформу для модов
- Проверяй совместимость модов с версией игры
- Создавай резервные копии перед установкой модов

## Конфигурация
- Используй `valheim_Data/Boot.config` для настроек игры
- Поддерживай настройки графики и производительности
- Сохраняй пользовательские настройки в localStorage
- Валидируй конфигурационные файлы

## Запуск игры
- Используй Steam API для запуска игры
- Передавай параметры командной строки если нужно
- Обрабатывай случаи когда игра уже запущена
- Мониторь статус процесса игры

## Сервер
- Проверяй доступность серверов модов
- Используй HTTPS для загрузки модов
- Кэшируй информацию о модах
- Обрабатывай сетевые ошибки gracefully

## Безопасность
- Валидируй ZIP архивы перед извлечением
- Проверяй размеры файлов
- Сканируй на вирусы если возможно
- Не выполняй произвольный код из модов